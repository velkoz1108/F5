<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="menu">

    <div class="col-md-3 left_col">
        <div class="left_col scroll-view">


            <div class="navbar nav_title" style="border: 0;">
                <a href="/" class="site_title"><i class="fa fa-paw"></i> <span th:text="#{system.name}">Welcome!</span></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
                <div class="profile_pic">
                    <img th:src="@{/images/img.png}" alt="..." class="img-circle profile_img">
                </div>
                <div class="profile_info">
                    <span th:text="#{hello}">Welcome,</span>
                    <h2 th:text="${#httpSession.getAttribute('username')}">John Doe</h2>
                </div>
                <div class="clearfix"></div>
            </div>
            <!-- /menu profile quick info -->

            <br/>

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                <div class="menu_section">
                    <h3>General</h3>
                    <ul class="nav side-menu">
                        <th:block th:include="this::row(${#httpSession.getAttribute('menuList')},1)"></th:block>
                    </ul>
                </div>
            </div>
            <!-- /sidebar menu -->


            <!-- /menu footer buttons -->
            <div th:include="common/footer-button :: footer-button"></div>
            <!-- /menu footer buttons -->

        </div>
    </div>


    <!--局部模板-->
    <th:block th:fragment="row(menuList,lv)">
        <li th:each="menu,menuStat : ${menuList}">

            <th:block th:if="${#lists.isEmpty(menu.childMenu)}">
                <a th:href="${menu.hrefUrl}" th:text="${menu.menuName}">from</a>
            </th:block>

            <th:block th:unless="${#lists.isEmpty(menu.childMenu)}">
                <a><i th:class="${menu.iconStyle}"></i>
                    <th:block th:text="${menu.menuName}"> Home</th:block>
                    <span class="fa fa-chevron-down"></span>
                </a>

            </th:block>

            <ul class="nav child_menu">
                <th:block th:unless="${#lists.isEmpty(menu.childMenu)}"
                          th:include="this::row(${menu.childMenu},${lv+1})"/>
            </ul>
        </li>
    </th:block>


</div>